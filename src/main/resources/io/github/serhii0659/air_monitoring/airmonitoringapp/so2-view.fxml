<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>
<?import io.github.serhii0659.air_monitoring.airmonitoringapp.CustomTitleBar?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="io.github.serhii0659.air_monitoring.airmonitoringapp.SO2ViewController"
      style="-fx-background-color: linear-gradient(to bottom, #0a0e27, #1a1f3a); -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.8), 15, 0, 0, 5);">

    <!-- Custom Title Bar -->
    <CustomTitleBar fx:id="titleBar" />

    <!-- Content -->
    <VBox spacing="15" VBox.vgrow="ALWAYS">
        <padding>
            <Insets top="15" right="15" bottom="15" left="15"/>
        </padding>

        <!-- Header -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Region HBox.hgrow="ALWAYS" />
            <Label text="ðŸ“‰" style="-fx-font-size: 24px;" />
            <Label text="Ð”Ð†ÐžÐšÐ¡Ð˜Ð” Ð¡Ð†Ð ÐšÐ˜ (SOâ‚‚)" styleClass="label-header" />
            <Label text="ðŸ“‰" style="-fx-font-size: 24px;" />
            <Region HBox.hgrow="ALWAYS" />
        </HBox>

        <!-- Controls -->
        <HBox spacing="15" alignment="CENTER_LEFT">
            <Button text="ðŸ“Š Ð—ÐÐ’ÐÐÐ¢ÐÐ–Ð˜Ð¢Ð˜ Ð”ÐÐÐ†" onAction="#onLoadData" styleClass="button-primary" />
        </HBox>

        <!-- Info Label -->
        <Label fx:id="infoLabel" styleClass="label-info" wrapText="true"
               text="ÐÐ°Ñ‚Ð¸ÑÐ½Ñ–Ñ‚ÑŒ 'Ð—Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶Ð¸Ñ‚Ð¸ Ð´Ð°Ð½Ñ–' Ð´Ð»Ñ Ð°Ð½Ð°Ð»Ñ–Ð·Ñƒ Ð²Ð¸Ð¼Ñ–Ñ€ÑŽÐ²Ð°Ð½ÑŒ SOâ‚‚" />

        <!-- Chart -->
        <PieChart fx:id="pieChart" VBox.vgrow="ALWAYS" animated="true" legendVisible="true"
                  style="-fx-background-color: rgba(26, 31, 58, 0.8); -fx-border-color: #00d9ff; -fx-border-width: 1px; -fx-border-radius: 5px;"
                  prefHeight="350" />

        <!-- Data Table -->
        <TableView fx:id="dataTable" prefHeight="200" VBox.vgrow="SOMETIMES">
            <columns>
                <TableColumn fx:id="categoryColumn" text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ñ–Ñ" prefWidth="250" />
                <TableColumn fx:id="rangeColumn" text="Ð”Ñ–Ð°Ð¿Ð°Ð·Ð¾Ð½" prefWidth="200" />
                <TableColumn fx:id="countColumn" text="ÐšÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ Ð²Ð¸Ð¼Ñ–Ñ€ÑŽÐ²Ð°Ð½ÑŒ" prefWidth="250" />
            </columns>
        </TableView>
    </VBox>
</VBox>