<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.chart.*?>
<?import io.github.serhii0659.air_monitoring.airmonitoringapp.CustomTitleBar?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="io.github.serhii0659.air_monitoring.airmonitoringapp.PM25PM10ViewController"
      style="-fx-background-color: linear-gradient(to bottom, #0a0e27, #1a1f3a); -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.8), 15, 0, 0, 5);">

    <!-- Custom Title Bar -->
    <CustomTitleBar fx:id="titleBar" />

    <!-- Content -->
    <VBox spacing="15" VBox.vgrow="ALWAYS">
        <padding>
            <Insets top="15" right="15" bottom="15" left="15"/>
        </padding>

        <!-- Header -->
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Region HBox.hgrow="ALWAYS" />
            <Label text="ðŸ“Š" style="-fx-font-size: 24px;" />
            <Label text="PM2.5 Ð¢Ð PM10 ÐŸÐž ÐžÐ‘Ð›ÐÐ¡Ð¢Ð¯Ð¥" styleClass="label-header" />
            <Label text="ðŸ“Š" style="-fx-font-size: 24px;" />
            <Region HBox.hgrow="ALWAYS" />
        </HBox>

        <!-- Date selection -->
        <HBox spacing="15" alignment="CENTER_LEFT">
            <Label text="ÐŸÐµÑ€Ñ–Ð¾Ð´:" styleClass="label-info" />
            <Label text="Ð·" styleClass="label-info" />
            <DatePicker fx:id="startDatePicker" prefWidth="150" />
            <Label text="Ð¿Ð¾" styleClass="label-info" />
            <DatePicker fx:id="endDatePicker" prefWidth="150" />
            <Button text="ðŸ“Š Ð—ÐÐ’ÐÐÐ¢ÐÐ–Ð˜Ð¢Ð˜ Ð”ÐÐÐ†" onAction="#onLoadData" styleClass="button-primary" />
        </HBox>

        <!-- Info Label -->
        <Label fx:id="infoLabel" styleClass="label-info" wrapText="true" />

        <!-- Chart -->
        <BarChart fx:id="barChart" VBox.vgrow="ALWAYS" animated="false" legendVisible="true"
                  style="-fx-background-color: rgba(26, 31, 58, 0.8); -fx-border-color: #00d9ff; -fx-border-width: 1px; -fx-border-radius: 5px;">
            <xAxis>
                <CategoryAxis fx:id="xAxis" side="BOTTOM" />
            </xAxis>
            <yAxis>
                <NumberAxis fx:id="yAxis" side="LEFT" />
            </yAxis>
        </BarChart>

        <!-- Data Table -->
        <TableView fx:id="dataTable" prefHeight="200" VBox.vgrow="SOMETIMES">
            <columns>
                <TableColumn fx:id="regionColumn" text="ÐžÐ±Ð»Ð°ÑÑ‚ÑŒ" prefWidth="300" />
                <TableColumn fx:id="pm25Column" text="PM2.5 Max (Î¼g/mÂ³)" prefWidth="200" />
                <TableColumn fx:id="pm10Column" text="PM10 Max (Î¼g/mÂ³)" prefWidth="200" />
            </columns>
        </TableView>
    </VBox>
</VBox>